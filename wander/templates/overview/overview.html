{% extends "base.html" %}

{% block content %}
    <div id="radio-date">
      <input type="radio" name="timeperiod"
             value="red" onclick="handleClick(this);"> Red
      <input type="radio" name="timeperiod"
             value="green" onclick="handleClick(this);"> Green
      <input type="radio" name="timeperiod"
             value="blue" onclick="handleClick(this);"
             checked="checked"> Blue

      <span style="float:right">
        Region:
        <input type="checkbox" name="America"
               value="america">America
        <input type="checkbox" name="Europe"
               value="europe">Europe
        <input type="checkbox" name="Asia"
               value="asia">Asia
        <input type="checkbox" name="Total"
               value="total" checked="checked">Total<br>
      </span>
      <br>
      <script>
        function handleClick(radio_btn) {
            jQuery.post(
                '/overview/revenue',
                {color: radio_btn.value}
            ).done(function(response) {
                console.log(response)
                /*use Plotly.restyle instead of Plotly.newPlot*/
                Plotly.newPlot("revenue", JSON.parse(response));
            }).fail(function() {
                console.log("Can't get data from the server")
            })
        }
      </script>
      <script>
        $(document).ready(function() {
            $('.js-example-basic-multiple').select2();
        });
      </script>
    </div>


    <h3>Revenue</h3>
    <div id="revenue"></div>
    <script>
      Plotly.newPlot("revenue", {{plots.revenue | safe}});
    </script>

    <h3>Sales</h3>

{% endblock %}
